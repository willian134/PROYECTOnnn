<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat IA + Generador Im√°genes</title>
<style>
/* RESET */
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#0f0f1a;color:#fff;display:flex;flex-direction:column;}

/* NAVBAR */
.site-header{width:100%;background:linear-gradient(90deg,#020617,#0b1120);border-bottom:1px solid rgba(0,255,255,.2);}
.cyber-navbar{max-width:1200px;margin:auto;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(90deg,#020617,#020617);border-radius:40px;box-shadow:0 0 10px rgba(0,255,255,.4),0 0 25px rgba(0,255,255,.25);}
.logo{font-size:28px;color:#00ffff;text-shadow:0 0 10px #00ffff;}
.nav-links{list-style:none;display:flex;gap:28px;}
.nav-links a{color:#bffcff;text-decoration:none;font-weight:500;padding:6px 12px;border-radius:20px;transition:.3s;}
.nav-links a:hover{background:rgba(0,255,255,.12);color:#00ffff;box-shadow:0 0 12px rgba(0,255,255,.8);}
.user-menu{position:relative;}
.user-btn{padding:8px 18px;border-radius:30px;background:linear-gradient(90deg,#1e3a8a,#06b6d4);color:white;font-weight:500;cursor:pointer;box-shadow:0 0 10px #00ffff,0 0 25px rgba(0,255,255,.6);}
.user-dropdown{position:absolute;top:120%;right:0;width:190px;background:#020617;border-radius:15px;box-shadow:0 0 20px rgba(0,255,255,.7);overflow:hidden;opacity:0;visibility:hidden;transform:translateY(10px);transition:.3s;}
.user-dropdown a{display:block;padding:14px;color:#bffcff;text-decoration:none;transition:.3s;}
.user-dropdown a:hover{background:rgba(0,255,255,.15);color:#00ffff;}
.user-menu:hover .user-dropdown{opacity:1;visibility:visible;transform:translateY(0);}

/* HERO */
.hero{text-align:center;margin:20px;}
.hero h1{color:white;font-size:48px;letter-spacing:2px;}
.hero p{color:#9ffcff;margin-top:10px;}
.intro{max-width:700px;margin:auto;padding:20px;text-align:center;}

/* CHAT + PANEL */
.container{display:flex;gap:20px;padding:20px;}
.panel, .panel-right{width:280px;background:rgba(30,30,50,0.95);border-radius:12px;padding:15px;box-shadow:0 0 20px rgba(0,0,0,0.5);overflow-y:auto;max-height:80vh;}
.panel h3, .panel-right h3{color:#ffcc00;text-align:center;margin-bottom:10px;}
.category-button{width:100%;padding:8px;margin:5px 0;border:none;border-radius:8px;background:#1a1a33;color:#ffcc00;font-weight:bold;cursor:pointer;transition:0.2s;}
.category-button:hover{background:#2a2a50;}
.panel p, .fragment{padding:8px 10px;margin:5px 0;background:#1a1a33;border-radius:8px;cursor:grab;user-select:none;display:flex;align-items:center;gap:8px;transition:0.2s;}
.panel p::before, .fragment::before{content:"‚†ø";color:#ffcc00;font-weight:bold;}
.panel p:hover, .fragment:hover{background:#2a2a50;transform:scale(1.02);}
.chat-area{flex:1;display:flex;flex-direction:column;height:80vh;}
textarea{width:100%;height:80px;border-radius:8px;border:none;padding:10px;margin-top:10px;resize:none;}
button#sendButton{width:100%;padding:12px;margin-top:10px;background:#ffcc00;color:#000;font-weight:bold;border:none;border-radius:8px;cursor:pointer;}
#chatOutput{margin-top:15px;background:#1a1a33;padding:15px;border-radius:8px;flex:1;overflow-y:auto;display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-start;}
.chat-fragment{background:#2a2a50;padding:15px;border-radius:8px;text-align:left;min-width:80px;min-height:50px;cursor:default;white-space:pre-wrap;}

/* ===============================
   IM√ÅGENES EN EL CHAT AJUSTADAS
================================ */
.chat-image {
  width: 100%;
  min-height: 200px;
  max-height: 400px;
  overflow: hidden;
  border-radius: 8px;
}
.chat-image img {
  width: 100%;
  height: 100%;
  object-fit: CENTER; /* Ocupa todo el cuadro */
  border: 2px solid #ffcc00;
  border-radius: 8px;
}
</style>
</head>
<body>

<!-- HEADER NAVBAR -->
<header class="site-header">
  <nav class="cyber-navbar">
    <div class="logo">IA Chat</div>
    <ul class="nav-links">
      <li><a href="inicio.html">Inicio</a></li>
      <li><a href="sobr.html">Sobre la IA</a></li>
      <li><a href="CHAT.html">Chat de IA</a></li>
      <li><a href="juego.html">Juego de IA</a></li>
      <li><a href="imagenes.html">Im√°genes IA</a></li>
    </ul>
    <div class="user-menu">
      <div class="user-btn">üë§ Usuario</div>
      <div class="user-dropdown">
        <a href="registro.html">Registro</a>
        <a href="login.html">Iniciar sesi√≥n</a>
      </div>
    </div>
  </nav>
</header>

<!-- HERO -->
<div class="hero">
  <h1>Chat IA + Generador de Im√°genes</h1>
  <p>Arrastra preguntas o fragmentos al chat para obtener respuestas o im√°genes.</p>
</div>

<!-- CHAT + PANEL -->
<div class="container">
  <!-- PANEL IZQUIERDO -->
  <div class="panel" id="panelIA">
    <h3>Preguntas IA</h3>
    <button class="category-button" onclick="showQuestions('matematicas')">Matem√°ticas</button>
    <button class="category-button" onclick="showQuestions('programacion')">Programaci√≥n</button>
    <button class="category-button" onclick="showQuestions('ia')">Inteligencia Artificial</button>
    <button class="category-button" onclick="showQuestions('chatgpt')">ChatGPT</button>
    <button class="category-button" onclick="showQuestions('gemini')">Gemini</button>
    <div id="questionList"></div>
  </div>

  <!-- CHAT AREA -->
  <div class="chat-area">
    <textarea id="userPrompt" placeholder="Arrastra aqu√≠ tu pregunta o fragmento"></textarea>
    <button id="sendButton" onclick="procesar()">Enviar</button>
    <div id="chatOutput"></div>
  </div>

  <!-- PANEL DERECHO -->
  <div class="panel-right" id="panelFragmentos">
    <h3>Fragmentos Im√°genes</h3>
    <button class="category-button" onclick="showFragments('dragonball')">Dragon Ball</button>
    <button class="category-button" onclick="showFragments('futbol')">F√∫tbol</button>
    <button class="category-button" onclick="showFragments('otros')">Otros Animes</button>
    <button class="category-button" onclick="showFragments('memes')">Memes</button>
    <div id="fragmentList"></div>
  </div>
</div>

<script>
// DRAG & DROP
function drag(ev){
  ev.dataTransfer.setData("text", ev.target.innerText);
  ev.dataTransfer.setData("type", ev.target.dataset.type);
  ev.dataTransfer.setData("value", ev.target.dataset.value || "");
  ev.dataTransfer.setData("link", ev.target.dataset.link || "");
}
const textarea=document.getElementById("userPrompt");
textarea.addEventListener("dragover",e=>e.preventDefault());
textarea.addEventListener("drop",e=>{
  e.preventDefault();
  const data=e.dataTransfer.getData("text");
  textarea.value=data;
  textarea.dataset.type=e.dataTransfer.getData("type");
  textarea.dataset.value=e.dataTransfer.getData("value");
  textarea.dataset.link=e.dataTransfer.getData("link");
});

// PREGUNTAS LLENAS
const questions={
  matematicas:[
    {q:"Qu√© es √°lgebra", a:"El √°lgebra estudia operaciones y relaciones entre s√≠mbolos y letras que representan n√∫meros."},
    {q:"Qu√© es c√°lculo", a:"El c√°lculo estudia derivadas, integrales y tasas de cambio."},
    {q:"Teorema de Pit√°goras", a:"a¬≤+b¬≤=c¬≤ en un tri√°ngulo rect√°ngulo."},
    {q:"Probabilidad b√°sica", a:"Casos favorables / casos posibles."},
    {q:"Funciones lineales", a:"y = mx + b, m=pendiente, b=intersecci√≥n."},
    {q:"Derivadas", a:"Mide la tasa de cambio instant√°nea."},
    {q:"Integrales", a:"√Årea bajo la curva."},
    {q:"Geometr√≠a anal√≠tica", a:"Figuras geom√©tricas con coordenadas."},
    {q:"Trigonometr√≠a", a:"Relaciones entre √°ngulos y lados."},
    {q:"Matrices", a:"Tablas de n√∫meros organizadas en filas y columnas."}
  ],
  programacion:[
    {q:"Qu√© es JavaScript", a:"Lenguaje interpretado para web interactiva."},
    {q:"Qu√© es Python", a:"Lenguaje vers√°til, usado en web, IA y ciencia de datos."},
    {q:"Qu√© es un objeto", a:"Agrupa propiedades y m√©todos."},
    {q:"Qu√© es recursi√≥n", a:"Funci√≥n que se llama a s√≠ misma."},
    {q:"Errores comunes", a:"Sintaxis, variables indefinidas, bucles infinitos."},
    {q:"Funciones", a:"Bloques de c√≥digo reutilizables."},
    {q:"Bucles", a:"Repetici√≥n de acciones: for, while."},
    {q:"Variables", a:"Espacios de memoria para datos."},
    {q:"Arrays", a:"Estructuras que almacenan m√∫ltiples valores."},
    {q:"Condicionales", a:"Toman decisiones: if, else, switch."}
  ],
  ia:[
    {q:"Qu√© es IA", a:"Sistemas capaces de realizar tareas que requieren inteligencia humana."},
    {q:"Aprendizaje autom√°tico", a:"M√°quinas aprenden patrones sin ser programadas expl√≠citamente."},
    {q:"Redes neuronales", a:"Modelos inspirados en el cerebro."},
    {q:"IA generativa", a:"Crea contenido original: texto, im√°genes, m√∫sica."},
    {q:"IA en medicina", a:"Diagn√≥stico y medicina personalizada."},
    {q:"IA en educaci√≥n", a:"Tutor√≠as personalizadas y simulaciones."},
    {q:"IA en deportes", a:"Analiza rendimiento y estrategias."},
    {q:"√âtica en IA", a:"Privacidad y decisiones justas."},
    {q:"Automatizaci√≥n laboral", a:"Reemplazo de tareas repetitivas."},
    {q:"Futuro de la IA", a:"Mejora creatividad, medicina y rob√≥tica."}
  ],
  chatgpt:[
    {q:"Qu√© es ChatGPT", a:"Modelo de lenguaje de OpenAI para comprender y generar texto."},
    {q:"C√≥mo funciona ChatGPT", a:"Redes neuronales entrenadas con grandes vol√∫menes de texto."},
    {q:"Ventajas de ChatGPT", a:"Asistencia educativa, generaci√≥n de c√≥digo y soporte."},
    {q:"Desventajas de ChatGPT", a:"Limitaciones de creatividad y posibles sesgos."},
    {q:"Aplicaciones ChatGPT", a:"Chatbots, tutor√≠as, generaci√≥n de contenido."},
    {q:"Seguridad ChatGPT", a:"Supervisar respuestas y manejar datos con √©tica."},
    {q:"Limitaciones ChatGPT", a:"No tiene conciencia y puede dar respuestas incorrectas."},
    {q:"ChatGPT vs Gemini", a:"ChatGPT: texto; Gemini: multimodal (texto, im√°genes, audio)."},
    {q:"Ejemplos ChatGPT", a:"Responder preguntas, generar historias, programar."},
    {q:"Casos de uso ChatGPT", a:"Educaci√≥n, soporte t√©cnico, creatividad y automatizaci√≥n."}
  ],
  gemini:[
    {q:"Qu√© es Gemini", a:"Sistema de IA multimodal: texto, im√°genes y audio."},
    {q:"Manual Gemini", a:"Instrucciones, comandos y formatos soportados."},
    {q:"Ventajas de Gemini", a:"Generaci√≥n multimodal de contenido."},
    {q:"Desventajas de Gemini", a:"Mayor consumo de recursos y posibles errores."},
    {q:"Aplicaciones Gemini", a:"Educaci√≥n, multimedia, an√°lisis de datos."},
    {q:"Seguridad Gemini", a:"Validar respuestas y manejo √©tico de datos."},
    {q:"Limitaciones Gemini", a:"Depende de datos y puede fallar en generaci√≥n."},
    {q:"Gemini vs ChatGPT", a:"Gemini: multimodal; ChatGPT: solo texto."},
    {q:"Ejemplos Gemini", a:"Generaci√≥n de im√°genes y texto."},
    {q:"Casos de uso Gemini", a:"Educaci√≥n, entretenimiento, soporte multimodal."}
  ]
};

function showQuestions(cat){
  const list=document.getElementById("questionList");
  list.innerHTML="";
  questions[cat].forEach(q=>{
    const p=document.createElement("p");
    p.draggable=true;
    p.dataset.type="pregunta";
    p.dataset.value=q.q;
    p.innerText=q.q;
    p.ondragstart=drag;
    list.appendChild(p);
  });
}

// FRAGMENTOS IMAGENES
const fragments={
  dragonball:[
    {name:"Goku Super Saiyajin", link:"https://tse1.mm.bing.net/th/id/OIP.MOD6Kkm4m-Ia48VofY7tyAHaJQ?w=736&h=920&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Vegeta Enojado", link:"https://tse2.mm.bing.net/th/id/OIP._a7GjelNLa6I8fnwFreUWAHaFL?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Gohan Ni√±o", link:"https://i.pinimg.com/736x/e6/78/4f/e6784f3bca2bf810f3451e558198b353.jpg"},
    {name:"Trunks Futuro", link:"https://tse4.mm.bing.net/th/id/OIP.-O6XFpWy5GSY6xRv6h7n0gHaEK?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Piccolo Serio", link:"https://tse1.mm.bing.net/th/id/OIP.jfeIBYXA0Foi5PU6E1RnxgHaEK?rs=1&pid=ImgDetMain&o=7&rm=3"}
  ],
  futbol:[
    {name:"Messi Gol", link:"https://tse1.mm.bing.net/th/id/OIP.eSdjJmTDIeNVH7ziERMBJgHaE8?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Ronaldo Celebraci√≥n", link:"https://wallpapercave.com/wp/wp2271188.jpg"},
    {name:"Neymar Drible", link:"https://static1.purepeople.com.br/articles/2/10/67/42/@/1395862-neymar-ficou-entre-os-tres-finalistas-do-950x0-2.jpg"},
    {name:"Mbapp√© Velocidad", link:"https://tse1.mm.bing.net/th/id/OIP.dNaUa36PyLv_AxA9DqfMQQHaEK?rs=1&pid=ImgDetMain&o=7&rm=3"}
  ],
  otros:[
    {name:"Naruto Rasengan", link:"https://www.thedigitalfix.com/wp-content/sites/thedigitalfix/2023/03/naruto-uzumaki.jpg"},
    {name:"Sasuke Chidori", link:"https://static1.cbrimages.com/wordpress/wp-content/uploads/2023/03/sasuke-chidori-blade.jpeg"},
    {name:"Sakura Fuerza", link:"https://i.pinimg.com/736x/97/3d/89/973d893a31922e7698baa7f0538d0938.jpg"}
  ],
  memes:[
    {name:"Meme Troll", link:"https://uploads.dailydot.com/2023/12/Troll-Face-Meme.jpg?auto=compress&fm=pjpg"},
    {name:"Meme Risa", link:"https://tse1.explicit.bing.net/th/id/OIP.ruhM-0JNaogiwj6vm309uwHaEK?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Meme Fail", link:"https://i.pinimg.com/originals/e5/f8/63/e5f8636b38d6afc305905ece216443cf.jpg"}
  ]
};

function showFragments(cat){
  const list=document.getElementById("fragmentList");
  list.innerHTML="";
  fragments[cat].forEach(f=>{
    const div=document.createElement("div");
    div.className="fragment";
    div.draggable=true;
    div.dataset.type="fragment";
    div.dataset.value=f.name;
    div.dataset.link=f.link;
    div.innerText=f.name;
    div.ondragstart=drag;
    list.appendChild(div);
  });
}

// PROCESAR CHAT
function procesar(){
  const chatOutput=document.getElementById("chatOutput");
  chatOutput.innerHTML="";

  const text=textarea.value;
  const type=textarea.dataset.type||"pregunta";
  if(!text) return alert("Arrastra algo primero!");

  if(type==="pregunta"){
    let answer="";
    Object.values(questions).flat().forEach(q=>{
      if(q.q===text) answer=q.a;
    });
    const div=document.createElement("div");
    div.className="chat-fragment";
    div.innerText=answer||"No hay informaci√≥n disponible.";
    chatOutput.appendChild(div);

    // Voz IA
    const utterance=new SpeechSynthesisUtterance(answer||"No hay informaci√≥n disponible.");
    utterance.lang="es-ES";
    speechSynthesis.speak(utterance);
  } else if(type==="fragment"){
    const value=textarea.dataset.value;
    const link=textarea.dataset.link || "#";
    const div=document.createElement("div");
    div.className="chat-image";
    div.innerHTML=`<img src="${link}">`;
    chatOutput.appendChild(div);

    // Voz IA
    const utterance=new SpeechSynthesisUtterance(value);
    utterance.lang="es-ES";
    speechSynthesis.speak(utterance);
  }

  textarea.value="";
  textarea.dataset.type="";
  textarea.dataset.value="";
  textarea.dataset.link="";
}
</script>

</body>
</html>
